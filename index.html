<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agricola</title>
    <link rel="stylesheet" href="style.css" />
    <script src="js/Resource/ResourceType.js" type="module"></script>
    <script src="js/MajorCard/MajorCardInterface.js" type="module"></script>
    <script src="js/MajorCard/MajorCard.js" type="module"></script>
    <script src="js/MajorCard/MajorCardManager.js" type="module"></script>
    <script src="js/Resource/ResourceManager.js" type="module"></script>
    <script src="./js/UIManager.js" type="module"></script>
</head>

<body>
    <!--팝업 시작-->
    <!-- 순서 정하기 -->
    <div class="select_container" id="popup_select" style="display: none;">
        <div style="height: 40px; width: 40px;">
            <button id="selectOrder"><img src="image/ic_close.svg" class="m_header-banner-close" width="30px" height="30px"></button>
        </div>
        <h1>선 정하기</h1>
        <button id="start-order-btn" class="btn btn-primary">시작</button>
        <div class="container mt-5">
            <div class="row justify-content-center" style="display: flex; justify-content: space-around;">
                <div class="col-sm-6">
                    <div class="card text-center">
                        <div class="card-header">
                            플레이어 1
                        </div>
                        <div class="card-body text-center d-flex justify-content-center align-items-center">
                            <div class="flip-card">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">
                                    </div>
                                    <div class="flip-card-back text-center d-flex justify-content-center align-items-center">
                                        <h5 id="player1text">선</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button id="confirm-primary" class="btn btn-primary mt-3 flip-button">확인</button>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="card">
                        <div class="card-header text-center">
                            플레이어 2
                        </div>
                        <div class="card-body d-flex justify-content-center">
                            <div class="flip-card">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">
                                    </div>
                                    <div class="flip-card-back text-center d-flex justify-content-center align-items-center">
                                        <h5 id="player2text">X</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button id="confirm-primary" class="btn btn-primary mt-3 flip-button">확인</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- 스코어 팝업 -->
    <div id="popup_score" style="display:none">
        <div style="margin-top: 10px">
            <b>점수 계산 표</b>
        </div>
        <div id="-1" style="position: absolute; left: 10px">
            <div id="score-sheet">
                <b>-1점</b><br>
                <div class="score-img">
                    <img src="./image/board/FarmBoard/field.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">0-1</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/fence1.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">0</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/bread.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">0</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/carrot.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">0</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/sheep.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">0</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/boar.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">0</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/cattle.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">0</h4>
                </div>
            </div>
        </div>
        <div id="1" style="position: absolute; left: 80px">
            <div id="score-sheet">
                <b>1점</b><br>
                <div class="score-img">
                    <img src="./image/board/FarmBoard/field.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">2</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/fence1.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">1</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/bread.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">1-3</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/carrot.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">1</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/sheep.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">1-3</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/boar.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">1-2</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/cattle.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">1</h4>
                </div>
            </div>
        </div>
        <div id="2" style="position: absolute;left: 160px;">
            <div id="score-sheet">
                <b>2점</b><br>
                <div class="score-img">
                    <img src="./image/board/FarmBoard/field.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">3</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/fence1.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">2</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/bread.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">4-5</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/carrot.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">2</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/sheep.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">4-5</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/boar.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">3-4</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/cattle.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">2-3</h4>
                </div>
            </div>
        </div>
        <div id="3" style="position: absolute;left: 240px;">
            <div id="score-sheet">
                <b>3점</b><br>
                <div class="score-img">
                    <img src="./image/board/FarmBoard/field.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">4</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/fence1.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">3</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/bread.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">6-7</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/carrot.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">3</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/sheep.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">6-7</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/boar.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">5-6</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/cattle.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">4-5</h4>
                </div>
            </div>
        </div>
        <div id="4" style="position: absolute; left: 320px">
            <div id="score-sheet">
                <b>4점</b><br>
                <div class="score-img">
                    <img src="./image/board/FarmBoard/field.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">5+</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/fence1.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">4+</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/bread.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">8+</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/carrot.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">4+</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/sheep.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">8+</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/boar.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">7+</h4>
                </div>
                <div class="score-img">
                    <img src="./image/resource/cattle.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">6+</h4>
                </div>
            </div>
        </div>
        <div style="position: absolute; bottom: 10%; left: 35%; height: 130px;">
            <div style="height: 50px;">
                <div class="score-img">
                    <img src="./image/board/FarmBoard/farmboard1.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">-1점</h4>
                </div>
                <div class="score-img-row">
                    <img src="./image/resource/barn1.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">1점</h4>
                </div>
            </div>
            <div style="height: 50px;">
                <div class="score-img">
                    <img src="./image/board/FarmBoard/woodenroom.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">1점</h4>
                </div>
                <div class="score-img-row">
                    <img src="./image/board/FarmBoard/stoneroom.jpeg" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">2점</h4>
                </div>
            </div>
            <div style="height: 50px;">
                <div class="score-img">
                    <img src="./image/resource/farmer1.PNG" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">3점</h4>
                </div>
                <div class="score-img-row">
                    <img src="./image/board/Cards/majors_icon.png" style="position: relative; width: 40px; height: 40px; object-fit: contain">
                    <h4 class="score-text">?점</h4>
                </div>
            </div>
        </div>

        <button id="score-close-btn" class="btn d-block" style="position: absolute; bottom: 10px; left: 45%;">확인</button>
    </div>

    <!-- 주요 설비 -->
    <div class="popup_layer" id="popup_layer" style="display: none;">
        <div class="popup_box">
            <div>
                <button id="majorBtn"><img src="image/ic_close.svg" class="m_header-banner-close" width="30px" height="30px"></button>
            </div>
            <!--팝업 컨텐츠 영역-->
            <div class="popup_cont">
                <div class="image-container" id="major_cards_container">
                    <img id="bowlFactory" src="image/utility/bowlFactory.png">
                    <img id="firePot1" src="image/utility/brazier1.png">
                    <img id="firePot2" src="image/utility/brazier2.png">
                    <img id="basketFactory" src="image/utility/basketFactory.png">
                    <img id="earthenKiln" src="image/utility/earthenKiln.png">
                    <img id="furnitureFactory" src="image/utility/furnitureFactory.png">
                    <img id="stoneKiln" src="image/utility/stoneKiln.png">
                    <img id="brazier1" src="image/utility/firePot1.png">
                    <img id="brazier2" src="image/utility/firePot2.png">
                    <img id="well" src="image/utility/well.png">
                </div>
            </div>
        </div>
    </div>
    <!-- 점수 계산 -->
    <div class = "popup_end" id = "popup_end">
        <div class = "player1">
            <div class = "title">player1</div>
            <div>
                <div class="popup_score-sheet">
                    <div class="popup_score-img">
                        <img src="./image/board/FarmBoard/field.png">
                        <h4 class="popup_score-text">0-1</h4>
                    </div>
                    <div class="popup_score-img">
                        <img src="./image/resource/fence1.PNG" >
                        <h4 class="popup_score-text">0</h4>
                    </div>
                    <div class="popup_score-img">
                        <img src="./image/resource/bread.PNG" >
                        <h4 class="popup_score-text">0</h4>
                    </div>
                    <div class="popup_score-img">
                        <img src="./image/resource/carrot.PNG" >
                        <h4 class="popup_score-text">0</h4>
                    </div>
                    <div class="popup_score-img">
                        <img src="./image/resource/sheep.PNG" >
                        <h4 class="popup_score-text">0</h4>
                    </div>
                    <div class="popup_score-img">
                        <img src="./image/resource/boar.png" >
                        <h4 class="popup_score-text">0</h4>
                    </div>
                    <div class="popup_score-img">
                        <img src="./image/resource/cattle.png" >
                        <h4 class="popup_score-text">0</h4>
                    </div>
                </div>
            </div>
            <div id="player1_final_score">
                점수
            </div>
        </div>

        <div class = "player2">
            <div class = "title">player2</div>
            <div>
                <div class="popup_score-sheet">
                    <div class="popup_score-img">
                        <img src="./image/board/FarmBoard/field.png">
                        <h4 class="popup_score-text">0-1</h4>
                    </div>
                    <div class="popup_score-img">
                        <img src="./image/resource/fence1.PNG" >
                        <h4 class="popup_score-text">0</h4>
                    </div>
                    <div class="popup_score-img">
                        <img src="./image/resource/bread.PNG" >
                        <h4 class="popup_score-text">0</h4>
                    </div>
                    <div class="popup_score-img">
                        <img src="./image/resource/carrot.PNG" >
                        <h4 class="popup_score-text">0</h4>
                    </div>
                    <div class="popup_score-img">
                        <img src="./image/resource/sheep.PNG" >
                        <h4 class="popup_score-text">0</h4>
                    </div>
                    <div class="popup_score-img">
                        <img src="./image/resource/boar.png" >
                        <h4 class="popup_score-text">0</h4>
                    </div>
                    <div class="popup_score-img">
                        <img src="./image/resource/cattle.png" >
                        <h4 class="popup_score-text">0</h4>
                    </div>
                </div>
            </div>
            <div id="player2_final_score">
                점수
            </div>
        </div>

        <button id="scorepopup-close-btn" class="btn d-block" style="position: absolute; bottom: 10px; left: 45%;">확인</button>

    </div>
    <!--팝업 끝-->
    <div id="container">
        <div class="action_board_container">
            <div class="action_board">
                <div class="left_box_container">
                    <div class="left_box">
                        <div id="a1" class="a grid-item">
                        </div>
                        <div id="r1" class="b grid-item">
                        </div>
                        <div id="a2" class="c grid-item">
                        </div>
                        <div id="a3" class="d grid-item">
                            <div class="remain">3</div>
                        </div>
                        <div id="a4" class="e grid-item">
                        </div>
                        <div id="a5" class="f grid-item">
                        </div>
                        <div id="a6" class="g grid-item">
                            <div class="remain">1</div>
                        </div>
                        <div id="a7" class="h grid-item">
                        </div>
                        <div id="a8" class="i grid-item">
                            <div class="remain">1</div>
                        </div>
                        <div id="a9" class="j grid-item">
                        </div>
                        <div id="a10" class="k grid-item">
                            <div class="remain">1</div>
                        </div>
                    </div>
                </div>
                <div class="right_box_container">
                    <div class="right_box">
                        <div class="round r1" id="r2">
                        </div>
                        <div class="round r1" id="r3">
                        </div>
                        <div class="round r1" id="r4">
                            <div class="remain" style="display:none;">1</div>
                        </div>
                        <div class="round r2" id="r5">
                        </div>
                        <div class="round r2" id="r6">
                        </div>
                        <div class="round r2" id="r7">
                            <div class="remain" style="display:none;">1</div>
                        </div>
                        <div class="round r3" id="r8">
                        </div>
                        <div class="round r3" id="r9">
                        </div>
                        <div>
                            <button id="major_popup" style="background:transparent; border: none; cursor: pointer;">
                                <div>
                                    <img src="image/board/Cards/majors_icon.png" class="right_box-card"/>
                                </div>
                            </button>
                        </div>
                        <div>
                            <img src="image/board/background_numbers/number4.png" class="number-card" alt="" />
                        </div>
                        <div>
                            <img src="image/board/background_numbers/number4.png" class="number-card" alt="" />
                        </div>
                        <div></div>
                        <div></div>
                    </div>
                </div>
                <div class="bottom_box_container">
                    <div class="bottom_box">
                        <div>
                            <img src="image/board/background_numbers/number5.png" alt="" />
                        </div>
                        <div>
                            <img src="image/board/background_numbers/number5.png" alt="" />
                        </div>
                        <div></div>
                        <div>
                            <img src="image/board/background_numbers/number6.png" alt="" />
                        </div>
                        <div></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="farm_boards">
            <div class="farm_board0">
                <!-- title -->
                <div class="title"><span>Player 1</span></div>
                <div class="farm_border">
                    <!-- 1 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar" id="f1"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f2"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f3"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f4"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f5"></div>
                        <div class="square"></div>
                    </div>
                    <!-- 2 row -->
                    <div class="row">
                        <div class="col_bar" id="f6"></div>
                        <div class="farmboard" id="board1">
                            <img src="image/board/FarmBoard/farmboard1.png" />
                        </div>
                        <div class="col_bar" id="f7"></div>
                        <div class="farmboard" id="board2">
                            <img src="image/board/FarmBoard/farmboard2.png" />
                        </div>
                        <div class="col_bar" id="f8"></div>
                        <div class="farmboard" id="board3">
                            <img src="image/board/FarmBoard/farmboard3.png" />
                        </div>
                        <div class="col_bar" id="f9"></div>
                        <div class="farmboard" id="board4">
                            <img src="image/board/FarmBoard/farmboard4.png" />
                        </div>
                        <div class="col_bar" id="f10"></div>
                        <div class="farmboard" id="board5">
                            <img src="image/board/FarmBoard/farmboard5.png" />
                        </div>
                        <div class="col_bar" id="f11"></div>
                    </div>
                    <!-- 3 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar" id="f12"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f13"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f14"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f15"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f16"></div>
                        <div class="square"></div>
                    </div>
                    <!-- 4 row -->
                    <div class="row">
                        <div class="col_bar" id="f17"></div>
                        <div class="farmboard" id="board6">
                            <img src="image/board/FarmBoard/woodenroom.png" />
                        </div>
                        <div class="col_bar" id="f18"></div>
                        <div class="farmboard" id="board7">
                            <img src="image/board/FarmBoard/farmboard1.png" />
                        </div>
                        <div class="col_bar" id="f19"></div>
                        <div class="farmboard" id="board8">
                            <img src="image/board/FarmBoard/farmboard2.png" />
                        </div>
                        <div class="col_bar" id="f20"></div>
                        <div class="farmboard" id="board9">
                            <img src="image/board/FarmBoard/farmboard3.png" />
                        </div>
                        <div class="col_bar" id="f21"></div>
                        <div class="farmboard" id="board10">
                            <img src="image/board/FarmBoard/farmboard4.png" />
                        </div>
                        <div class="col_bar" id="f22"></div>
                    </div>
                    <!-- 5 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar" id="f23"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f24"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f25"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f26"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f27"></div>
                        <div class="square"></div>
                    </div>
                    <!-- 6 row -->
                    <div class="row">
                        <div class="col_bar" id="f28"></div>
                        <div class="farmboard" id="board11">
                            <img src="image/board/FarmBoard/woodenroom.png" />
                        </div>
                        <div class="col_bar" id="f29"></div>
                        <div class="farmboard" id="board12">
                            <img src="image/board/FarmBoard/farmboard1.png" />
                        </div>
                        <div class="col_bar" id="f30"></div>
                        <div class="farmboard" id="board13">
                            <img src="image/board/FarmBoard/farmboard2.png" />
                        </div>
                        <div class="col_bar" id="f31"></div>
                        <div class="farmboard" id="board14">
                            <img src="image/board/FarmBoard/farmboard3.png" />
                        </div>
                        <div class="col_bar" id="f32"></div>
                        <div class="farmboard" id="board15">
                            <img src="image/board/FarmBoard/farmboard4.png" />
                        </div>
                        <div class="col_bar" id="f33"></div>
                    </div>
                    <!-- 7 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar" id="f34"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f35"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f36"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f37"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f38"></div>
                        <div class="square"></div>
                    </div>
                </div>
            </div>
            <div class="farm_board1">
                <!-- title -->
                <div class="title"><span>Player 2</span></div>
                <div class="farm_border">
                    <!-- 1 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar" id="f39"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f40"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f41"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f42"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f43"></div>
                        <div class="square"></div>
                    </div>
                    <!-- 2 row -->
                    <div class="row">
                        <div class="col_bar" id="f44"></div>
                        <div class="farmboard" id="board16">
                            <img src="image/board/FarmBoard/farmboard1.png" />
                        </div>
                        <div class="col_bar" id="f45"></div>
                        <div class="farmboard" id="board17">
                            <img src="image/board/FarmBoard/farmboard2.png" />
                        </div>
                        <div class="col_bar" id="f46"></div>
                        <div class="farmboard" id="board18">
                            <img src="image/board/FarmBoard/farmboard3.png" />
                        </div>
                        <div class="col_bar" id="f47"></div>
                        <div class="farmboard" id="board19">
                            <img src="image/board/FarmBoard/farmboard4.png" />
                        </div>
                        <div class="col_bar" id="f48"></div>
                        <div class="farmboard" id="board20">
                            <img src="image/board/FarmBoard/farmboard5.png" />
                        </div>
                        <div class="col_bar" id="f49"></div>
                    </div>
                    <!-- 3 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar" id="f50"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f51"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f52"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f53"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f54"></div>
                        <div class="square"></div>
                    </div>
                    <!-- 4 row -->
                    <div class="row">
                        <div class="col_bar" id="f55"></div>
                        <div class="farmboard" id="board21">
                            <img src="image/board/FarmBoard/woodenroom.png" />
                        </div>
                        <div class="col_bar" id="f56"></div>
                        <div class="farmboard" id="board22">
                            <img src="image/board/FarmBoard/farmboard1.png" />
                        </div>
                        <div class="col_bar" id="f57"></div>
                        <div class="farmboard" id="board23">
                            <img src="image/board/FarmBoard/farmboard2.png" />
                        </div>
                        <div class="col_bar" id="f58"></div>
                        <div class="farmboard" id="board24">
                            <img src="image/board/FarmBoard/farmboard3.png" />
                        </div>
                        <div class="col_bar" id="f59"></div>
                        <div class="farmboard" id="board25">
                            <img src="image/board/FarmBoard/farmboard4.png" />
                        </div>
                        <div class="col_bar" id="f60"></div>
                    </div>
                    <!-- 5 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar" id="f61"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f62"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f63"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f64"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f65"></div>
                        <div class="square"></div>
                    </div>
                    <!-- 6 row -->
                    <div class="row">
                        <div class="col_bar" id="f66"></div>
                        <div class="farmboard" id="board26">
                            <img src="image/board/FarmBoard/woodenroom.png" />
                        </div>
                        <div class="col_bar" id="f67"></div>
                        <div class="farmboard" id="board27">
                            <img src="image/board/FarmBoard/farmboard1.png" />
                        </div>
                        <div class="col_bar" id="f68"></div>
                        <div class="farmboard" id="board28">
                            <img src="image/board/FarmBoard/farmboard2.png" />
                        </div>
                        <div class="col_bar" id="f69"></div>
                        <div class="farmboard" id="board29">
                            <img src="image/board/FarmBoard/farmboard3.png" />
                        </div>
                        <div class="col_bar" id="f70"></div>
                        <div class="farmboard" id="board30">
                            <img src="image/board/FarmBoard/farmboard4.png" />
                        </div>
                        <div class="col_bar" id="f71"></div>
                    </div>
                    <!-- 7 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar" id="f72"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f73"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f74"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f75"></div>
                        <div class="square"></div>
                        <div class="row_bar" id="f76"></div>
                        <div class="square"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="util_board">
            <div class="setting_board">
                <div class="icons">

                    <button id="scoreBtn" style="width: 20%; border: none; background-color: transparent; cursor: pointer;"><img src="image/board/Cards/score.png" style="width: 100%; height: 100%;"></button>
                    <a href="./rule.html" style="width: 20%;" onclick="window.open(this.href, '_blank', 'width = 1000, height = 800, top = 100, left = 200, location = no, toolbars=no, scrollbars=yes'); return false;"><img src="image/board/Cards/book.png" style="width: 80%; height: 100%;"></a>
                    <a href="#" style="width: 20%;" onclick="window.open(this.href, '_blank', 'width = 1000, height = 800, top = 100, left = 200, location = no, toolbars=no, scrollbars=yes'); return false;"><img src="image/board/Cards/gear.png" style="width: 80%; height: 100%;"></a>

                </div>
            </div>
            <div class="score_board" id="score1">
                <div class="score_board_top">
                    <img src="./image/board/Cards/hand_icon.png" alt="" class="avatar" />
                    <div>
                        <h3 class="score_board_title">Player1</h3>
                        <div id="player1score">
                            <span>-14</span>
                        </div>
                    </div>
                    <div class="ex">
                        <img src="image/board/Cards/first.png" id="player1_first" alt="" />
                    </div>
                    <div class="ex">
                        <button id="major_popup_player_1" style="background:transparent; border: none; cursor: pointer;">
                            <div>
                                <img src="image/board/Cards/majors_icon.png" alt="" />
                            </div>
                        </button>
                    </div>
                </div>
                <div class="resources">
                    <div class="resource">
                        <div id="wood1">0</div> <img src="image/resource/wood.PNG" class="resource_img" />
                    </div>
                    <div class="resource">
                        <div id="clay1">0</div> <img src="image/resource/clay.PNG" class="resource_img" />
                    </div>
                    <div class="resource">
                        <div id="stone1">0</div> <img src="image/resource/stone.PNG" class="resource_img" />
                    </div>
                    <div class="resource">
                        <div id="reed1">0</div> <img src="image/resource/reed.PNG" class="resource_img" />
                    </div>
                    <div class="resource">
                        <div id="grain1">0</div> <img src="image/resource/bread.PNG" class="resource_img" />
                    </div>
                    <div class="resource">
                        <div id="vegetable1">0</div> <img src="image/resource/carrot.PNG" class="resource_img" />
                    </div>
                    <div class="resource">
                        <div id="food1">0</div> <img src="image/resource/food.PNG" class="resource_img" />
                    </div>
                </div>
                <div class="line"></div>
                <div class="animals">
                    <div class="animal">
                        <div id="sheep1">0</div> <img src="image/resource/sheep.PNG" class="resource_img" />
                    </div>
                    <div class="animal">
                        <div id="boar1">0</div> <img src="image/resource/boar.png" class="resource_img" />
                    </div>
                    <div class="animal">
                        <div id="cattle1">0</div> <img src="image/resource/cattle.png" class="resource_img" />
                    </div>
                </div>
                <div class="line"></div>
                <div class="tiles">
                    <div class="tile">
                        <div id="farmer1">0</div> <img src="image/resource/farmer1.PNG" class="resource_img" />
                    </div>
                    <div class="tile">
                        <div id="fence1">0</div> <img src="image/resource/fence1.PNG" class="resource_img" />
                    </div>
                    <div class="tile">
                        <div id="pen1">0</div> <img src="image/resource/barn1.PNG" class="resource_img" />
                    </div>
                </div>
            </div>
            <div class="score_board" id="score2">
                <div class="score_board_top">
                    <img src="./image/board/Cards/hand_icon.png" alt="" class="avatar" />
                    <div>
                        <h3 class="score_board_title">Player2</h3>
                        <div id="player2score">
                            <span>-14</span>
                        </div>
                    </div>
                    <div class="ex">
                        <img src="image/board/Cards/first.png" id="player2_first" alt="" />
                    </div>
                    <div class="ex">
                        <button id="major_popup_player_2" style="background:transparent; border: none; cursor: pointer;">
                            <div>
                                <img src="image/board/Cards/majors_icon.png" alt="" />
                            </div>
                        </button>
                    </div>
                </div>
                <div class="resources">
                    <div class="resource">
                        <div id="wood2">0</div> <img src="image/resource/wood.PNG" class="resource_img" />
                    </div>
                    <div class="resource">
                        <div id="clay2">0</div> <img src="image/resource/clay.PNG" class="resource_img" />
                    </div>
                    <div class="resource">
                        <div id="stone2">0</div> <img src="image/resource/stone.PNG" class="resource_img" />
                    </div>
                    <div class="resource">
                        <div id="reed2">0</div> <img src="image/resource/reed.PNG" class="resource_img" />
                    </div>
                    <div class="resource">
                        <div id="grain2">0</div> <img src="image/resource/bread.PNG" class="resource_img" />
                    </div>
                    <div class="resource">
                        <div id="vegetable2">0</div> <img src="image/resource/carrot.PNG" class="resource_img" />
                    </div>
                    <div class="resource">
                        <div id="food2">0</div> <img src="image/resource/food.PNG" class="resource_img" />
                    </div>
                </div>
                <div class="line"></div>
                <div class="animals">
                    <div class="animal">
                        <div id="sheep2">0</div> <img src="image/resource/sheep.PNG" class="resource_img" />
                    </div>
                    <div class="animal">
                        <div id="boar2">0</div> <img src="image/resource/boar.png" class="resource_img" />
                    </div>
                    <div class="animal">
                        <div id="cattle2">0</div> <img src="image/resource/cattle.png" class="resource_img" />
                    </div>
                </div>
                <div class="line"></div>
                <div class="tiles">
                    <div class="tile">
                        <div id="farmer2">0</div> <img src="./image/resource/farmer2.PNG" class="resource_img" />
                    </div>
                    <div class="tile">
                        <div id="fence2">0</div> <img src="./image/resource/fence2.PNG" class="resource_img" />
                    </div>
                    <div class="tile">
                        <div id="pen2">0</div> <img src="image/resource/barn2.PNG" class="resource_img" />
                    </div>
                </div>
            </div>
            <!--  선 정하기 Test, 추후 게임 시작시 실행되도록 수정  -->
            <button id="select-order-button" class="btn btn-primary d-block">게임시작</button>
            <button id="confirm" class="btn btn-primary d-block">확인</button>
            
        </div>
    </div>

   <!-- js 코드 -->
   <script type="module">
    import { UIManager } from './js/UIManager.js';
    import Game from './js/Game.js';

    const uiManager = new UIManager();
    const game = new Game();

    // 선 정하기
    const gameStartBtn = document.getElementById("select-order-button");
    gameStartBtn.addEventListener("click", function() {
        uiManager.openSelect();
    });


    // 선 정하기 팝업
    const selectBtn = document.getElementById("selectOrder");
    selectBtn.addEventListener("click", function() {
        uiManager.closeSelect();
    });

    // 선 정하기 시작
    const startBtn = document.getElementById("start-order-btn");
    startBtn.addEventListener("click", function() {
        game.start();
        startBtn.disabled = true;
    });

    // 점수 팝업
    const scorePopupBtn = document.getElementById("scoreBtn");
    scorePopupBtn.addEventListener("click", function(){
        uiManager.openScore();
    })

    // 점수 팝업 닫기
    const scoreCloseBtn = document.getElementById("score-close-btn");
    scoreCloseBtn.addEventListener("click", function(){
        uiManager.closeScore();
    })

    // 점수 팝업 닫기
    const scorePopupCloseBtn = document.getElementById("scorepopup-close-btn");
    scorePopupCloseBtn.addEventListener("click", function(){
        uiManager.closeScorePopup();
    })

    // 주요설비 팝업
    const majorBtn = document.getElementById("major_popup");
    majorBtn.addEventListener("click", function() {
        let majorCardsName = Object.keys(game.gameManager.majorCardManager.cards);
        uiManager.majorCardPopUp(majorCardsName, false);
    });

    // 주요설비 팝업 닫기
    const majorCloseBtn = document.getElementById("majorBtn");
    majorCloseBtn.addEventListener("click", function() {
        uiManager.closePopUp();
    });

    // 플레이어 1 주요 설비 보여주기
    const showPlayer1MajorCards = document.getElementById("major_popup_player_1");
    showPlayer1MajorCards.addEventListener("click", async function(){
        const player1ResourceManager = game.gameManager.player1.resourceManager;
        let player1MajorCardsName = player1ResourceManager.resources[10] ? Object.keys(player1ResourceManager.resources[10]) : [];
        
        const cardNamePromise = new Promise((resolve, reject) => {
        const closeBtn = document.getElementById("majorBtn");
        closeBtn.addEventListener("click", () => {
                resolve();
            });
        });
    
        let cardName = await Promise.race([uiManager.majorCardPopUp(player1MajorCardsName, true), cardNamePromise]);

        if (cardName) {
            let card = game.gameManager.player1.resourceManager.resources[10][cardName];
            card.wheneverAction(game.gameManager.player1);
            uiManager.showPlayerResource(game.gameManager);
        }
    })

    // 플레이어 2 주요 설비 보여주기
    const showPlayer2MajorCards = document.getElementById("major_popup_player_2");
    showPlayer2MajorCards.addEventListener("click", async function(){
        const player2ResourceManager = game.gameManager.player2.resourceManager;
        let player2MajorCardsName = player2ResourceManager.resources[10] ? Object.keys(player2ResourceManager.resources[10]) : [];

        const cardNamePromise = new Promise((resolve, reject) => {
        const closeBtn = document.getElementById("majorBtn");
        closeBtn.addEventListener("click", () => {
                resolve();
            });
        });
    
        let cardName = await Promise.race([uiManager.majorCardPopUp(player2MajorCardsName, true), cardNamePromise]);

        if (cardName) {
            let card = game.gameManager.player2.resourceManager.resources[10][cardName];
            card.wheneverAction(game.gameManager.player2);
            uiManager.showPlayerResource(game.gameManager);
        }
    })

</script>
</body>

</html>