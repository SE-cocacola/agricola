<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agricola</title>
    <link rel="stylesheet" href="style.css" />
    <script src="./js/UIManager.js" type="module"></script>

</head>

<body>
    <!--팝업 시작-->
    <!-- 순서 정하기 -->
    <div class="select_container" id ="popup_select" style="display: none;">
        <div style="height: 40px; width: 40px;">
            <button id = "selectOrder"><img src="image/ic_close.svg" class="m_header-banner-close" width="30px" height="30px"></button>
          </div>
        <h1>선 정하기</h1>
        <button id="start-order-btn" class="btn btn-primary">시작</button>
        <div class="container mt-5">
            <div class="row justify-content-center" style="display: flex; justify-content: space-around;">
                <div class="col-sm-6">
                    <div class="card text-center">
                        <div class="card-header">
                            플레이어 1
                        </div>
                        <div class="card-body text-center d-flex justify-content-center align-items-center">
                            <div class="flip-card">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">
                                    </div>
                                    <div class="flip-card-back text-center d-flex justify-content-center align-items-center">
                                        <h5 id="player1text">선</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-3 flip-button">확인</button>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="card">
                        <div class="card-header text-center">
                            플레이어 2
                        </div>
                        <div class="card-body d-flex justify-content-center">
                            <div class="flip-card">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">
                                    </div>
                                    <div class="flip-card-back text-center d-flex justify-content-center align-items-center">
                                        <h5 id="player2text">X</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-3 flip-button">확인</button>
                    </div>
                </div>
            </div>
        </div>
    
    </div>

    <!-- 주요 설비 -->
    <div class="popup_layer" id="popup_layer" style="display: none;">
        <div class="popup_box">
            <div style="height: 100px; width: 100px;">
              <button id = "majorBtn"><img src="image/ic_close.svg" class="m_header-banner-close" width="30px" height="30px"></button>
            </div>
            <!--팝업 컨텐츠 영역-->
            <div class="popup_cont">
                <div class="image-container">
                    <img id="util_bowl" src="./image/utility/util_bowl.png">
                    <img id="util_brazier4" src="./image/utility/util_brazier4.png">
                    <img id="util_brazier5" src="./image/utility/util_brazier5.png">
                    <img id="util_buket.png" src="./image/utility/util_buket.png">
                    <img id="util_earthenkiln" src="./image/utility/util_earthenkiln.png">
                    <img id="util_furniture" src="./image/utility/util_furniture.png">
                    <img id="util_stonekiln" src="./image/utility/util_stonekiln.png">
                    <img id="util_stove2" src="./image/utility/util_stove2.png">
                    <img id="util_stove3" src="./image/utility/util_stove3.png">
                    <img id="util_well" src="./image/utility/util_well.png">
                </div>
      
            </div>
            <!--팝업 버튼 영역-->
            <div class="popup_btn" style="float: bottom; margin-top: 50px;">
                <a href="javascript:closePop();">닫기</a>
            </div>
        </div>
      </div>
      <!--팝업 끝-->
    <div id="container">
        <div class="action_board_container">
            <div class="action_board">
                <div class="left_box_container">
                    <div class="left_box">
                        <div class="a grid-item">
                            <div class="remain">
                                4
                            </div>
                        </div>
                        <div class="b grid-item">
                            <div class="remain">
                                
                            </div>
                        </div>
                        <div class="c grid-item">
                            <div class="remain">
                                
                            </div>
                        </div>
                        <div class="d grid-item">
                            <div class="remain">
                                
                            </div>
                        </div>
                        <div class="e grid-item">
                            <div class="remain">
                                
                            </div>
                        </div>
                        <div class="f grid-item">
                            <div class="remain">
                                
                            </div>
                        </div>
                        <div class="g grid-item">
                            <div class="remain">
                                
                            </div>
                        </div>
                        <div class="h grid-item">
                            <div class="remain">
                                
                            </div>
                        </div>
                        <div class="i grid-item">
                            <div class="remain">
                                
                            </div>
                        </div>
                        <div class="j grid-item">
                            <div class="remain">
                                
                            </div>
                        </div>
                        <div class="k grid-item">
                            <div class="remain">
                                
                            </div>
                        </div>
                    </div>
                </div>
                <div class="right_box_container">
                    <div class="right_box">
                        <div class = "round r1" id = "1">
                        </div>
                        <div class = "round r1" id = "2">
                        </div>
                        <div class = "round r1" id = "3">
                        </div>
                        <div class="round r2" id = "4">
                        </div>
                        <div class="round r2" id = "5">
                        </div>
                        <div class="round r2" id = "6">
                        </div>
                        <div class="round r3" id = "7">
                        </div>
                        <div class="round r3" id = "8">
                        </div>
                        <div>
                            <button id = "major_popup" style="background:transparent; border: none;">
                                <div>
                                    <img src="image/board/Cards/majors_icon.png" class="right_box-card"/>
                                </div>
                            </button>
                        </div>
                        <div>
                            <img src="image/board/background_numbers/number4.png" class="number-card" alt="" />
                        </div>
                        <div>
                            <img src="image/board/background_numbers/number4.png" class="number-card" alt="" />
                        </div>
                        <div></div>
                        <div></div>
                    </div>
                </div>
                <div class="bottom_box_container">
                    <div class="bottom_box">
                        <div>
                            <img src="image/board/background_numbers/number5.png" alt="" />
                        </div>
                        <div>
                            <img src="image/board/background_numbers/number5.png" alt="" />
                        </div>
                        <div></div>
                        <div>
                            <img src="image/board/background_numbers/number6.png" alt="" />
                        </div>
                        <div></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="farm_boards">
            <div class="farm_board">
                <!-- title -->
                <div class="title"><span>Player 1</span></div>
                <div class = "farm_border">
                    <!-- 1 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                    </div>
                    <!-- 2 row -->
                    <div class="row">
                        <div class="col_bar"></div>
                        <div class="farmboard" id = "test">
                            <img src="image/board/FarmBoard/farmboard1.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard2.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard3.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard4.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard5.png" />
                        </div>
                        <div class="col_bar"></div>
                    </div>
                    <!-- 3 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                    </div>
                    <!-- 4 row -->
                    <div class="row">
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/clayroom.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard1.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard2.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard3.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard4.png" />
                        </div>
                        <div class="col_bar"></div>
                    </div>
                    <!-- 5 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                    </div>
                    <!-- 6 row -->
                    <div class="row">
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/clayroom.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard1.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard2.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard3.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard4.png" />
                        </div>
                        <div class="col_bar"></div>
                    </div>
                    <!-- 7 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                    </div>
                </div>
            </div>
            <div class="farm_board">
                <!-- title -->
                <div class="title"><span>Player 1</span></div>
                <div class = "farm_border">
                    <!-- 1 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                    </div>
                    <!-- 2 row -->
                    <div class="row">
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard1.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard2.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard3.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard4.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard5.png" />
                        </div>
                        <div class="col_bar"></div>
                    </div>
                    <!-- 3 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                    </div>
                    <!-- 4 row -->
                    <div class="row">
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/clayroom.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard1.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard2.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard3.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard4.png" />
                        </div>
                        <div class="col_bar"></div>
                    </div>
                    <!-- 5 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                    </div>
                    <!-- 6 row -->
                    <div class="row">
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/clayroom.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard1.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard2.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard3.png" />
                        </div>
                        <div class="col_bar"></div>
                        <div class="farmboard">
                            <img src="image/board/FarmBoard/farmboard4.png" />
                        </div>
                        <div class="col_bar"></div>
                    </div>
                    <!-- 7 row -->
                    <div class="row">
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                        <div class="row_bar"></div>
                        <div class="square"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="util_board">
            <div class="setting_board">
                <div class="icons">
                        <a href = "#" style = "width: 20%;" onclick="window.open(this.href, '_blank', 'width = 1000, height = 600, top = 100, left = 200, location = no, toolbars=no, scrollbars=yes'); return false;"><img src="image/board/Cards/score.png" style="width: 80%; height: 100%;"></a>
                        <a href = "./rule.html" style = "width: 20%;" onclick="window.open(this.href, '_blank', 'width = 1000, height = 800, top = 100, left = 200, location = no, toolbars=no, scrollbars=yes'); return false;"><img src="image/board/Cards/book.png" style="width: 80%; height: 100%;"></a>
                        <a href = "#" style = "width: 20%;" onclick="window.open(this.href, '_blank', 'width = 1000, height = 800, top = 100, left = 200, location = no, toolbars=no, scrollbars=yes'); return false;"><img src="image/board/Cards/gear.png" style="width: 80%; height: 100%;"></a>
                </div>
            </div>
            <div class="score_board" id = "score1">
                <div class="score_board_top">
                    <img src="/image/board/Cards/hand_icon.png" alt="" class="avatar" />
                    <div>
                        <h3 class="score_board_title">Name</h3>
                        <div>
                            <span>-14</span>
                        </div>
                    </div>
                    <div class="ex">
                        <img src="image/board/Cards/first.png" id = "player1_first" alt="" />
                    </div>
                    <div class="ex">
                        <img src="image/board/Cards/majors_icon.png" alt="" />
                    </div>
                </div>
                <div class="resources">
                    <div class="resource" id="wood">
                        0 <img src="image/resource/wood.PNG" class="resource_img" />
                    </div>
                    <div class="resource" id="clay">
                        0 <img src="image/resource/clay.PNG" class="resource_img" />
                    </div>
                    <div class="resource" id="stone">
                        0 <img src="image/resource/stone.PNG" class="resource_img" />
                    </div>
                    <div class="resource" id="reed">
                        0 <img src="image/resource/reed.PNG" class="resource_img" />
                    </div>
                    <div class="resource" id="bread">
                        0 <img src="image/resource/bread.PNG" class="resource_img" />
                    </div>
                    <div class="resource" id="carrot">
                        0 <img src="image/resource/carrot.PNG" class="resource_img" />
                    </div>
                    <div class="resource" id="food">
                        0 <img src="image/resource/food.PNG" class="resource_img" />
                    </div>
                </div>
                <div class="line"></div>
                <div class="animals">
                    <div class="animal" id="sheep">
                        0 <img src="image/resource/sheep.PNG" class="resource_img" />
                    </div>
                    <div class="animal" id="pig">
                        0 <img src="image/resource/boar.png" class="resource_img" />
                    </div>
                    <div class="animal" id="cow">
                        0 <img src="image/resource/cattle.png" class="resource_img" />
                    </div>
                </div>
                <div class="line"></div>
                <div class="tiles">
                    <div class="tile" id="farmer1">
                        0 <img src="image/resource/farmer1.PNG" class="resource_img" />
                    </div>
                    <div class="tile" id="fence2">
                        0 <img src="image/resource/fence1.PNG" class="resource_img" />
                    </div>
                    <div class="tile" id="barn2">
                        0 <img src="image/resource/barn1.PNG" class="resource_img" />
                    </div>
                </div>
            </div>
            <div class="score_board" id = "score2">
                <div class="score_board_top">
                    <img src="/image/board/Cards/hand_icon.png" alt="" class="avatar" />
                    <div>
                        <h3 class="score_board_title">Name</h3>
                        <div>
                            <span>-14</span>
                        </div>
                    </div>
                    <div class="ex">
                        <img src="image/board/Cards/first.png" id = "player2_first" alt="" />
                    </div>
                    <div class="ex">
                        <img src="image/board/Cards/majors_icon.png" alt="" />
                    </div>
                </div>
                <div class="resources">
                    <div class="resource" id="wood">
                        0 <img src="image/resource/wood.PNG" class="resource_img" />
                    </div>
                    <div class="resource" id="clay">
                        0 <img src="image/resource/clay.PNG" class="resource_img" />
                    </div>
                    <div class="resource" id="stone">
                        0 <img src="image/resource/stone.PNG" class="resource_img" />
                    </div>
                    <div class="resource" id="reed">
                        0 <img src="image/resource/reed.PNG" class="resource_img" />
                    </div>
                    <div class="resource" id="bread">
                        0 <img src="image/resource/bread.PNG" class="resource_img" />
                    </div>
                    <div class="resource" id="carrot">
                        0 <img src="image/resource/carrot.PNG" class="resource_img" />
                    </div>
                    <div class="resource" id="food">
                        0 <img src="image/resource/food.PNG" class="resource_img" />
                    </div>
                </div>
                <div class="line"></div>
                <div class="animals">
                    <div class="animal" id="sheep">
                        0 <img src="image/resource/sheep.PNG" class="resource_img" />
                    </div>
                    <div class="animal" id="pig">
                        0 <img src="image/resource/boar.png" class="resource_img" />
                    </div>
                    <div class="animal" id="cow">
                        0 <img src="image/resource/cattle.png" class="resource_img" />
                    </div>
                </div>
                <div class="line"></div>
                <div class="tiles">
                    <div class="tile" id="farmer1">
                        0 <img src="image/resource/farmer1.PNG" class="resource_img" />
                    </div>
                    <div class="tile" id="fence2">
                        0 <img src="image/resource/fence1.PNG" class="resource_img" />
                    </div>
                    <div class="tile" id="barn2">
                        0 <img src="image/resource/barn1.PNG" class="resource_img" />
                    </div>
                </div>
            </div>
            <!--  선 정하기 Test, 추후 게임 시작시 실행되도록 수정  -->
            <button id="select-order-button" class="btn btn-primary d-block">선 정하기(Test)</button>
            <button id="switch-turn-button" class="btn btn-primary d-block">턴(Test)</button>
            <button id="switch-first-button" class="btn btn-primary d-block">선(Test)</button>
            <button id="add-animal" class="btn btn-primary d-block">가축 배치 (Test)</button>
            <select id="animal-type">
                <option value="cow">소</option>
                <option value="sheep">양</option>
                <option value="boar">돼지</option>
            </select>
            <select id="animal-number">
                <option value="1">1마리</option>
                <option value="2">2마리</option>
                <option value="3">3마리</option>
            </select>

            <button id="remove-animal" class="btn btn-primary d-block">가축 삭제(Test)</button>
            <button id="add-fence" class="btn btn-primary d-block">울타리 배치 (Test)</button>
            <select id="fence-type">
                <option value="Red">빨강</option>
                <option value="Blue">파랑</option>
            </select>
            <button id="remove-fence" class="btn btn-primary d-block">울타리 삭제 (Test)</button>

            <button id="add-barn" class="btn btn-primary d-block">외양간 배치 (Test)</button>
            <select id="barn-type">
                <option value="1">빨강</option>
                <option value="2">파랑</option>
            </select>
            <button id="remove-barn" class="btn btn-primary d-block">외양간 삭제 (Test)</button>

        </div>
    </div>

    <!-- js 코드 -->
    <script type="module">
        import { UIManager } from './js/UIManager.js';

        const uiManager = new UIManager();

        // hover
        const div = document.getElementById('test');
        uiManager.addHoverEffectToDiv(div);


        // 선 정하기
        const gameStartBtn = document.getElementById("select-order-button");
        gameStartBtn.addEventListener("click", function() {
            uiManager.openSelect();
        });

        // 선 정하기 팝업
        const selectBtn = document.getElementById("selectOrder");
        selectBtn.addEventListener("click", function() {
            uiManager.closeSelect();
        });

        // 선 정하기 시작
        const startBtn = document.getElementById("start-order-btn");
        startBtn.addEventListener("click", function() {
            uiManager.selectOrder();
            startBtn.disabled = true;
        });


        // 턴 바꾸기
        const switchTurnBtn = document.getElementById("switch-turn-button");
        switchTurnBtn.addEventListener("click", function() {
            uiManager.switchTurns();
            uiManager.changeActionRoundImage(1);
            uiManager.changeActionRoundImage(3);
        });

        // 선 바꾸기
        const switchFirstBtn = document.getElementById("switch-first-button");
        switchFirstBtn.addEventListener("click", function() {
            uiManager.switchFirst();
        });

        // 가축 배치
        const addAnimalBtn = document.getElementById("add-animal");
        addAnimalBtn.addEventListener("click", function() {
            uiManager.addAnimal();
        });

        // 가축 삭제
        const removeAnimalBtn = document.getElementById("remove-animal");
        removeAnimalBtn.addEventListener("click", function() {
            uiManager.removeAnimal();
        });

        // 울타리 치기
        const addFenceBtn = document.getElementById("add-fence");
        addFenceBtn.addEventListener("click", function() {
            uiManager.addFence();
        });

        // 울타리 삭제
        const removeFenceBtn = document.getElementById("remove-fence");
        removeFenceBtn.addEventListener("click", function() {
            uiManager.removeFence();
        });

        // 외양간 짓기
        const addBarnBtn = document.getElementById("add-barn");
        addBarnBtn.addEventListener("click", function() {
            uiManager.addBarn();
        });

        // 외양간 삭제
        const removeBarnBtn = document.getElementById("remove-barn");
        removeBarnBtn.addEventListener("click", function() {
            uiManager.removeBarn();
        });

        // 주요설비 팝업
        const majorBtn = document.getElementById("major_popup");
        majorBtn.addEventListener("click", function() {
            uiManager.openPop();
        });

        // 주요설비 팝업 닫기
        const majorCloseBtn = document.getElementById("majorBtn");
        majorCloseBtn.addEventListener("click", function() {
            uiManager.closePop();
        });

        
    </script>
</body>

</html>